{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-25T09:36:34.363Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 14,
    "implemented": 14,
    "items": [
      {
        "id": "REQ-1",
        "summary": "Implement global state management using React Context storing: accountEquity (NPR), dailyPnL, openTrades array, closedTrades array, signalCards array (12 signals), checklistState (7 items), biasAuditAnswers, weeklyReviewData, quickLinksLastChecked, and settings (feePercent default 0.006, riskPercent options 0.5%/1.0%). Persist all state to localStorage on every change and rehydrate on app load. Provide JSON export and import functionality.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/contexts/TradingContext.tsx",
          "frontend/src/hooks/useTradingState.ts",
          "frontend/src/types/trading.ts"
        ],
        "matchedFiles": [
          "frontend/src/contexts/TradingContext.tsx",
          "frontend/src/types/trading.ts"
        ]
      },
      {
        "id": "REQ-10",
        "summary": "Build the Behavioral Bias Daily Audit section with 5 Yes/No/Unsure toggle questions: (Q1) chasing a stock up 3+ consecutive days â†’ HERDING TRAP warning if YES; (Q2) holding a loser past defined stop â†’ LOSS AVERSION + DISPOSITION EFFECT warning if YES; (Q3) overconfident after 3+ consecutive wins â†’ OVERCONFIDENCE BIAS warning with 50% size reduction instruction if YES; (Q4) pre-defined entry/stop/size before market open â†’ 'DO NOT TRADE TODAY' block if NO; (Q5) chase rate above 15% this month â†’ reduce frequency warning if YES. Display a Plan Adherence Score slider (0â€“5) auto-saved per day. Show a 'BIAS STATUS: LOW RISK âœ…' or 'BIAS STATUS: ELEVATED âš ï¸' chip at the top based on answers. The Trade Calculator should apply a soft-lock until the daily bias audit is completed.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/BiasAudit.tsx",
          "frontend/src/components/BiasWarning.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/BiasAudit.tsx"
        ]
      },
      {
        "id": "REQ-11",
        "summary": "Build the Quick Links Panel as a sidebar or bottom bar with two groups of links opening in new tabs. Official Sources: SEBON IPO Approved (sebon.gov.np), CDSC Lock-in Notices (cdsc.com.np), CDSC Settlement Procedure, CDSC EDIS Directive. Aggregators: Merolagani Announcements, Merolagani Quarterly Reports, Merolagani Top Turnovers, Sharesansar Share Listed, Sharesansar Dividend/Bonus/Rights, Sharesansar Top Turnovers. Each link shows a 'Last Checked' timestamp that the user can update manually by clicking a âœ“ button next to it. Timestamps persist to localStorage.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/QuickLinksPanel.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/QuickLinksPanel.tsx"
        ]
      },
      {
        "id": "REQ-12",
        "summary": "Build the Weekly Review Module that appears automatically on Sundays (Nepal time) or can be triggered manually via a button. It auto-generates a summary from trade log and journal data showing: Hit Rate (target >50%), Avg Win/Avg Loss (target >1.5), Max Drawdown (NPR and R), Rule Adherence % (target >80%), EDIS Errors This Week (target 0), Chase Rate % (target <15%), Plan Adherence Avg Score out of 5 (target â‰¥4), Best and Worst Playbook this week with avg R. Display auto-generated text recommendations based on these rule-based conditions: win rate < 40% â†’ reduce to 1 trade/day; chase rate > 20% â†’ 24-hour waiting rule; EDIS errors > 0 â†’ no-sell-without-EDIS-slot rule; plan adherence < 3 â†’ paper trade only; all metrics good â†’ scale R by 0.1%. Include a 'ðŸ“¥ Export Weekly Report as PDF' button (use window.print() or a print-friendly CSS class for the PDF export).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/WeeklyReview.tsx",
          "frontend/src/utils/weeklyRecommendations.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/WeeklyReview.tsx",
          "frontend/src/utils/weeklyRecommendations.ts"
        ]
      },
      {
        "id": "REQ-13",
        "summary": "Build the Portfolio Allocation Gauge section with a Recharts donut chart showing current allocation by playbook category vs targets: Target 50% Event/Swing | 30% Momentum | 20% IPO/New Listing. Compute current percentages from open trades tagged by playbook category. Display a rebalancing warning if any category deviates significantly from its target (e.g., 'You are overweight Momentum (42%). Reduce momentum trades until next event-driven setup.').",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/PortfolioAllocationGauge.tsx",
          "frontend/src/utils/allocation.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/PortfolioAllocationGauge.tsx",
          "frontend/src/utils/allocation.ts"
        ]
      },
      {
        "id": "REQ-14",
        "summary": "Apply the full Bloomberg-meets-Himalayan-night-sky dark terminal visual theme consistently across the entire dashboard. Colors: background #0A0E1A, surface cards #111827 with #1E293B borders, primary accent #F59E0B (amber/gold), success #10B981, danger #EF4444, muted text #6B7280, highlight #3B82F6. Typography: JetBrains Mono or IBM Plex Mono for display/headers and all numeric/data fields, Inter for readable body paragraphs. Layout: full-width dashboard, 3-column grid on desktop (â‰¥1280px), 2-column on tablet (768â€“1279px), single column on mobile (<768px). Add a thin amber (#F59E0B) top border across the entire page. Add a subtle scanline texture overlay on the background. Apply micro-animations: pulse on new alerts, slide-in on cards. When NEPSE market is closed, dim the entire dashboard to 70% opacity and show a 'MARKET CLOSED â€” Planning Mode' banner. Configure all custom colors and fonts in tailwind.config.js.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/tailwind.config.js",
          "frontend/src/index.css",
          "frontend/src/components/MarketClosedOverlay.tsx",
          "frontend/src/App.tsx"
        ],
        "matchedFiles": [
          "frontend/tailwind.config.js",
          "frontend/src/index.css",
          "frontend/src/components/MarketClosedOverlay.tsx",
          "frontend/src/App.tsx"
        ]
      },
      {
        "id": "REQ-2",
        "summary": "Build a fixed top navbar containing: (1) a 'ðŸ‡³ðŸ‡µ NEPSE DESK' logo/title on the left; (2) a live NepalClock component showing Nepal Standard Time (UTC+5:45) updating every second; (3) a MarketStatus indicator showing 'MARKET: OPEN' or 'MARKET: CLOSED' â€” NEPSE is open Sundayâ€“Thursday 11:00â€“15:00 NST; (4) an 'Account R' input field where the user sets their account equity in NPR; (5) a 'Max Loss Today: 2R = NPR ___' badge that turns red and locks the trade ideas section when daily P&L reaches -2R. Implement the NEPSE market hours logic exactly as specified (UTC offset = +5h 45m, weekdays Sun=0 through Thu=4, hours 11:00â€“15:00).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/Navbar.tsx",
          "frontend/src/components/NepalClock.tsx",
          "frontend/src/components/MarketStatus.tsx",
          "frontend/src/utils/nepalTime.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/Navbar.tsx",
          "frontend/src/components/NepalClock.tsx",
          "frontend/src/components/MarketStatus.tsx",
          "frontend/src/utils/nepalTime.ts"
        ]
      },
      {
        "id": "REQ-3",
        "summary": "Build a RiskAlertBanner component displayed below the navbar, always visible. It renders colored pill/badge alerts: ðŸ”´ EDIS DUE TODAY (red pulsing, user-manually-flagged), ðŸ”´ CLOSEOUT RISK (red, position flagged near closeout), ðŸŸ  LOCK-IN SUPPLY SHOCK (orange, unlock qty â‰¥ 5Ã— avg daily volume within 14 days), ðŸŸ  PROMOTER OVERHANG (orange, promoter sale > 500,000 shares), ðŸŸ¡ MARGIN BUFFER LOW (yellow, buffer approaching 20%), ðŸ”µ VOLATILITY REGIME (blue, index moved â‰¥2% yesterday or circuit halt in last 5 days), âœ… ALL CLEAR (green, no active alerts). If any RED alert is active, the banner pulses with a CSS animation and a modal popup appears on page load asking the user to confirm they've handled EDIS.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/RiskAlertBanner.tsx",
          "frontend/src/components/EdisConfirmationModal.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/RiskAlertBanner.tsx",
          "frontend/src/components/EdisConfirmationModal.tsx"
        ]
      },
      {
        "id": "REQ-4",
        "summary": "Build a collapsible OperationalChecklist card (open by default) with 7 checkboxes: (1) EDIS completed for all T+1 sell trades, (2) No-delivery period check done for holdings near book-close, (3) Margin buffer > 20% with a fill-in field for the percentage, (4) Max daily loss limit confirmed showing 2R in NPR, (5) Position size caps reviewed (â‰¤10% of avg turnover), (6) Pre-defined entry + stop + size for all planned trades, (7) Bias self-check completed. Display a progress bar showing completion (0/7 to 7/7). The Trade Ideas section (Section 5) must be blurred with a lock overlay and a message 'Complete your operational checklist first' until all 7 items are checked.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/OperationalChecklist.tsx",
          "frontend/src/components/ChecklistProgress.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/OperationalChecklist.tsx"
        ]
      },
      {
        "id": "REQ-5",
        "summary": "Build the 12-Signal Catalyst Engine section with a SignalCard component reused for all 12 signals. Each card shows: signal number + name, status toggle (ðŸ”´ ACTIVE / ðŸŸ¡ WATCH / âš« CLEAR), last updated timestamp, and a '+ Add Data' button that opens an inline mini-form to log ticker, date, qty, and notes. The 12 signals are: [S1] SEBON Approval, [S2] IPO Pipeline Update, [S3] New Listing, [S4] Book-Close â‰¤7 Days, [S5] Price Adjustment, [S6] Lock-in Supply Shock, [S7] Promoter Overhang, [S8] Auction/Tender â‰¤7d, [S9] Earnings Surprise, [S10] EDIS Reminder, [S11] Momentum/Liquidity, [S12] Volatility Regime. Cards are sorted: RED first, then ORANGE/YELLOW, then CLEAR. Display a Signal Summary Bar at the top of the section showing counts by category (Risk / Opportunity / Neutral). All signal data persists to localStorage.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/SignalCatalystEngine.tsx",
          "frontend/src/components/SignalCard.tsx",
          "frontend/src/components/SignalSummaryBar.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/SignalCatalystEngine.tsx",
          "frontend/src/components/SignalCard.tsx",
          "frontend/src/components/SignalSummaryBar.tsx"
        ]
      },
      {
        "id": "REQ-6",
        "summary": "Build the Trade Idea Builder section with 8 PlaybookCard components, gated behind the checklist completion state (blurred if checklist < 100%). Each PlaybookCard shows: strategy name, timeframe badge, source badge, one-line rationale, entry rule, exit rule, and an embedded TradeCalculator. The 8 playbooks are: (1) IPO First-Trade / Newly Listed Momentum Scalp [amber, event-driven, 1â€“5 sessions], (2) Post Price-Adjustment Momentum [amber, event-driven, 3â€“15 sessions], (3) Book-Close Last Trading Day [amber, event-driven, 2â€“7 sessions], (4) Lock-in Expiry Absorption Trade [amber, event-driven, 3â€“20 sessions], (5) Promoter Overhang Fade [amber, event-driven, 5â€“30 sessions], (6) Earnings Surprise Trade [amber, event-driven, 2â€“20 sessions], (7) Liquidity Breakout in Top-Turnover Names [blue, momentum, 1â€“10 sessions], (8) VWAP Mean-Reversion on Liquid Names [purple, intraday only]. Color-code cards: amber = event-driven, blue = momentum, purple = intraday.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/TradeIdeaBuilder.tsx",
          "frontend/src/components/PlaybookCard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/TradeIdeaBuilder.tsx",
          "frontend/src/components/PlaybookCard.tsx"
        ]
      },
      {
        "id": "REQ-7",
        "summary": "Build the TradeCalculator component embedded within each PlaybookCard. Input fields: Ticker, Entry Price (NPR), Stop Price (NPR), Account Equity (auto-populated from navbar), Risk % (dropdown: 0.5% or 1.0%), and Avg Daily Turnover 20d (NPR). Implement the exact position sizing logic: positionShares = Math.floor((accountEquity * riskPercent) / (entryPrice - stopPrice)); liquidityCap = avgDailyTurnover20d * 0.10; liquidityCapShares = Math.floor(liquidityCap / entryPrice); effectiveShares = Math.min(positionShares, liquidityCapShares); breakevenPct = configurable fee (default 0.6%); rValue = accountEquity * riskPercent; daysToExit = (effectiveShares * entryPrice) / avgDailyTurnover20d. Display outputs: Position Size (shares), Max Position Value (NPR), Liquidity Cap (NPR), Effective Size (shares), Breakeven Move needed (%). Show âš ï¸ liquidity warning if daysToExit > 3. If effectiveShares = 0, display 'Stop too tight or position too large for account size'. Include a 'ðŸ’¾ Add to Trade Log' button.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/TradeCalculator.tsx",
          "frontend/src/utils/positionSizing.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/TradeCalculator.tsx",
          "frontend/src/utils/positionSizing.ts"
        ]
      },
      {
        "id": "REQ-8",
        "summary": "Build the Active Trade Log section as a CRUD table with columns: Ticker, Playbook, Entry Price, Stop Price, Size (shares), Entry Date, Current Price (manual input for P&L calc), Current P&L (NPR), Current P&L (R-multiple), Days Held (auto-incrementing from entry date), Status (OPEN / CLOSED / STOPPED OUT / TARGET HIT), Actions (Edit, Close Trade, Flag EDIS). Rows turn green if P&L > 0 and red if P&L < 0. When closing a trade, the user enters an exit price and the app computes net P&L after deducting the configurable fee (default 0.6%). Sort the table by P&L ascending (worst first). Display a summary bar below: Open Trades count, Today's Realized P&L (NPR and R), Max Daily Loss Remaining (R), and Daily Loss Limit usage percentage. Lock the Trade Ideas section if daily P&L reaches -2R with message: 'Daily loss limit reached. Market is closed for you today. Review journal.'",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/ActiveTradeLog.tsx",
          "frontend/src/components/CloseTradeDialog.tsx",
          "frontend/src/components/TradeSummaryBar.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/ActiveTradeLog.tsx",
          "frontend/src/components/CloseTradeDialog.tsx"
        ]
      },
      {
        "id": "REQ-9",
        "summary": "Build the Journal Metrics Dashboard section with a 3-column grid of metric cards auto-computing from trade log data: (1) Portfolio Turnover, (2) Avg Holding Days, (3) Net P&L per Trade after fees, (4) Chase Rate (% of trades entered after 3 consecutive green days), (5) Plan Adherence Score 0â€“5 (manual input), (6) EDIS Delay Days Avg (manual input), (7) Win Rate, (8) Avg Win / Avg Loss Ratio, (9) Max Drawdown This Month, (10) Closeout Incidents/Month (manual), (11) Mistimed Corporate Action Trades (manual), (12) Forced Sell Events (manual). Below the metric cards, display a P&L Equity Curve chart using Recharts (line chart of cumulative P&L in NPR over time, with R-multiple on a secondary Y-axis). Below the chart, display a Playbook Performance Table with columns: Playbook Name, Trades, Win Rate, Avg R, Best Trade, Worst Trade.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/JournalMetrics.tsx",
          "frontend/src/components/MetricCard.tsx",
          "frontend/src/components/PLEquityCurve.tsx",
          "frontend/src/components/PlaybookPerformanceTable.tsx",
          "frontend/src/utils/metrics.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/JournalMetrics.tsx",
          "frontend/src/components/MetricCard.tsx",
          "frontend/src/components/PLEquityCurve.tsx",
          "frontend/src/components/PlaybookPerformanceTable.tsx",
          "frontend/src/utils/metrics.ts"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "build-request.json",
    "build-template/Dockerfile",
    "build-template/LICENSE",
    "build-template/README.md",
    "build-template/deploy.sh",
    "build-template/icp.yaml",
    "build-template/package.json",
    "build-template/pnpm-lock.yaml",
    "build-template/pnpm-workspace.yaml",
    "build-template/scripts/prune-unused-images.js",
    "build-template/scripts/resize-images.js",
    "build-template/src/backend/canister.yaml",
    "build-template/src/backend/system-idl/aaaaa-aa.did",
    "build-template/src/frontend/canister.yaml",
    "build-template/src/frontend/components.json",
    "build-template/src/frontend/env.json",
    "build-template/src/frontend/eslint-rules/no-bigint-in-query-keys.js",
    "build-template/src/frontend/eslint-rules/require-internet-identity-provider.js",
    "build-template/src/frontend/eslint.config.js",
    "build-template/src/frontend/package.json",
    "build-template/src/frontend/postcss.config.js",
    "build-template/src/frontend/src/components/ui/accordion.tsx",
    "build-template/src/frontend/src/components/ui/alert-dialog.tsx",
    "build-template/src/frontend/src/components/ui/alert.tsx",
    "build-template/src/frontend/src/components/ui/aspect-ratio.tsx",
    "build-template/src/frontend/src/components/ui/avatar.tsx",
    "build-template/src/frontend/src/components/ui/badge.tsx",
    "build-template/src/frontend/src/components/ui/breadcrumb.tsx",
    "build-template/src/frontend/src/components/ui/button.tsx",
    "build-template/src/frontend/src/components/ui/calendar.tsx",
    "build-template/src/frontend/src/components/ui/card.tsx",
    "build-template/src/frontend/src/components/ui/carousel.tsx",
    "build-template/src/frontend/src/components/ui/chart.tsx",
    "build-template/src/frontend/src/components/ui/checkbox.tsx",
    "build-template/src/frontend/src/components/ui/collapsible.tsx",
    "build-template/src/frontend/src/components/ui/command.tsx",
    "build-template/src/frontend/src/components/ui/context-menu.tsx",
    "build-template/src/frontend/src/components/ui/dialog.tsx",
    "build-template/src/frontend/src/components/ui/drawer.tsx",
    "build-template/src/frontend/src/components/ui/dropdown-menu.tsx",
    "build-template/src/frontend/src/components/ui/form.tsx",
    "build-template/src/frontend/src/components/ui/hover-card.tsx",
    "build-template/src/frontend/src/components/ui/input-otp.tsx",
    "build-template/src/frontend/src/components/ui/input.tsx",
    "build-template/src/frontend/src/components/ui/label.tsx",
    "build-template/src/frontend/src/components/ui/menubar.tsx",
    "build-template/src/frontend/src/components/ui/navigation-menu.tsx",
    "build-template/src/frontend/src/components/ui/pagination.tsx",
    "build-template/src/frontend/src/components/ui/popover.tsx",
    "build-template/src/frontend/src/components/ui/progress.tsx",
    "build-template/src/frontend/src/components/ui/radio-group.tsx",
    "build-template/src/frontend/src/components/ui/resizable.tsx",
    "build-template/src/frontend/src/components/ui/scroll-area.tsx",
    "build-template/src/frontend/src/components/ui/select.tsx",
    "build-template/src/frontend/src/components/ui/separator.tsx",
    "build-template/src/frontend/src/components/ui/sheet.tsx",
    "build-template/src/frontend/src/components/ui/sidebar.tsx",
    "build-template/src/frontend/src/components/ui/skeleton.tsx",
    "build-template/src/frontend/src/components/ui/slider.tsx",
    "build-template/src/frontend/src/components/ui/sonner.tsx",
    "build-template/src/frontend/src/components/ui/switch.tsx",
    "build-template/src/frontend/src/components/ui/table.tsx",
    "build-template/src/frontend/src/components/ui/tabs.tsx",
    "build-template/src/frontend/src/components/ui/textarea.tsx",
    "build-template/src/frontend/src/components/ui/toggle-group.tsx",
    "build-template/src/frontend/src/components/ui/toggle.tsx",
    "build-template/src/frontend/src/components/ui/tooltip.tsx",
    "build-template/src/frontend/src/hooks/use-mobile.tsx",
    "build-template/src/frontend/src/lib/utils.ts",
    "build-template/src/frontend/tsconfig.json",
    "build-template/src/frontend/vite.config.js",
    "build-template/tsconfig.json",
    "caffeine.lock.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/index.css",
    "frontend/index.html",
    "frontend/public/assets/generated/scanline-bg.dim_800x600.png",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/ActiveTradeLog.tsx",
    "frontend/src/components/BiasAudit.tsx",
    "frontend/src/components/CloseTradeDialog.tsx",
    "frontend/src/components/EdisConfirmationModal.tsx",
    "frontend/src/components/JournalMetrics.tsx",
    "frontend/src/components/MarketClosedOverlay.tsx",
    "frontend/src/components/MarketStatus.tsx",
    "frontend/src/components/MetricCard.tsx",
    "frontend/src/components/Navbar.tsx",
    "frontend/src/components/NepalClock.tsx",
    "frontend/src/components/OperationalChecklist.tsx",
    "frontend/src/components/PLEquityCurve.tsx",
    "frontend/src/components/PlaybookCard.tsx",
    "frontend/src/components/PlaybookPerformanceTable.tsx",
    "frontend/src/components/PortfolioAllocationGauge.tsx",
    "frontend/src/components/QuickLinksPanel.tsx",
    "frontend/src/components/RiskAlertBanner.tsx",
    "frontend/src/components/SignalCard.tsx",
    "frontend/src/components/SignalCatalystEngine.tsx",
    "frontend/src/components/SignalSummaryBar.tsx",
    "frontend/src/components/TradeCalculator.tsx",
    "frontend/src/components/TradeIdeaBuilder.tsx",
    "frontend/src/components/WeeklyReview.tsx",
    "frontend/src/config.ts",
    "frontend/src/contexts/TradingContext.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useActor.ts",
    "frontend/src/hooks/useInternetIdentity.ts",
    "frontend/src/index.css",
    "frontend/src/main.tsx",
    "frontend/src/types/trading.ts",
    "frontend/src/ui-summary.json",
    "frontend/src/utils/StorageClient.ts",
    "frontend/src/utils/allocation.ts",
    "frontend/src/utils/metrics.ts",
    "frontend/src/utils/nepalTime.ts",
    "frontend/src/utils/positionSizing.ts",
    "frontend/src/utils/weeklyRecommendations.ts",
    "frontend/tailwind.config.js",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}